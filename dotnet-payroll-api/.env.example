# Azure AD Configuration for Payroll API (OBO Flow)
# Copy this file to .env and fill in your values

# Azure AD Tenant ID (from Azure Portal -> Azure Active Directory -> Overview)
AZURE_TENANT_ID=your-tenant-id-here

# Payroll API Client ID (App Registration for this API)
AZURE_CLIENT_ID=your-payroll-api-client-id-here

# Authentication Settings
REQUIRE_AUTHENTICATION=false

# API Configuration
HTTP_PORT=5100
HTTPS_PORT=5101

# ============================================
# How to get these values:
# ============================================
# 1. AZURE_TENANT_ID:
#    - Go to Azure Portal -> Azure Active Directory -> Overview
#    - Copy the "Tenant ID"
#
# 2. AZURE_CLIENT_ID (Payroll API):
#    - This should be created via the setup script: ../setup-payroll-api-azure.sh
#    - Or manually in Azure Portal -> App Registrations -> Create new app "af-poc-payroll-api"
#    - Copy the "Application (client) ID"
#
# 3. REQUIRE_AUTHENTICATION:
#    - Set to 'true' for production or to test OBO flow
#    - Set to 'false' for local development without auth
#
# ============================================
# Important: OBO Flow Requirements
# ============================================
# For the orchestrator to call this API on behalf of a user:
# 1. The payroll API must expose an API scope (e.g., "api://<client-id>/access_as_user")
# 2. The orchestrator must have permission to call this scope
# 3. The orchestrator will exchange the user's token for an OBO token
# 4. This API validates the OBO token and extracts the user's 'oid' claim
#
# See ../setup-payroll-api-azure.sh for automated Azure setup
